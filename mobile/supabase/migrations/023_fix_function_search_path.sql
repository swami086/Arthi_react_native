-- Add SECURITY DEFINER and SET search_path to all functions
ALTER FUNCTION get_therapist_stats SECURITY DEFINER SET search_path = public, pg_temp;
ALTER FUNCTION notify_public_session SECURITY DEFINER SET search_path = public, pg_temp;
ALTER FUNCTION get_patient_list_for_therapist SECURITY DEFINER SET search_path = public, pg_temp;
ALTER FUNCTION get_therapist_relationships SECURITY DEFINER SET search_path = public, pg_temp;
ALTER FUNCTION update_therapist_patient_updated_at SECURITY DEFINER SET search_path = public, pg_temp;
ALTER FUNCTION update_therapist_notes_updated_at SECURITY DEFINER SET search_path = public, pg_temp;
ALTER FUNCTION get_admin_dashboard_stats SECURITY DEFINER SET search_path = public, pg_temp;
ALTER FUNCTION set_appointment_practice_id SECURITY DEFINER SET search_path = public, pg_temp;
ALTER FUNCTION set_notification_practice_id SECURITY DEFINER SET search_path = public, pg_temp;
ALTER FUNCTION set_session_recording_practice_id SECURITY DEFINER SET search_path = public, pg_temp;
ALTER FUNCTION set_soap_note_practice_id SECURITY DEFINER SET search_path = public, pg_temp;
ALTER FUNCTION search_available_mentees SECURITY DEFINER SET search_path = public, pg_temp;
ALTER FUNCTION set_transcript_practice_id SECURITY DEFINER SET search_path = public, pg_temp;
ALTER FUNCTION create_admin_account SECURITY DEFINER SET search_path = public, pg_temp;
ALTER FUNCTION approve_mentor_rpc SECURITY DEFINER SET search_path = public, pg_temp;
ALTER FUNCTION reject_mentor_rpc SECURITY DEFINER SET search_path = public, pg_temp;
ALTER FUNCTION on_admin_promotion_trigger SECURITY DEFINER SET search_path = public, pg_temp;
ALTER FUNCTION update_modified_column SECURITY DEFINER SET search_path = public, pg_temp;
ALTER FUNCTION handle_new_user SECURITY DEFINER SET search_path = public, pg_temp;
ALTER FUNCTION get_available_mentees_for_mentor SECURITY DEFINER SET search_path = public, pg_temp;
